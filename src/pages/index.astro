---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import ArticleCard from '../components/ArticleCard.astro';

const articles = (await getCollection('articles'))
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf());
---

<BaseLayout title="é¦–é¡µ" description="WikiMuseum - æ¢ç´¢çŸ¥è¯†ï¼Œåˆ†äº«è§è§£">
  <div class="mb-12">
    <h1 class="text-4xl font-bold text-notion-text mb-4">
      WikiMuseum
    </h1>
    <p class="text-lg text-notion-muted">
      æ¢ç´¢çŸ¥è¯†ï¼Œåˆ†äº«è§è§£ã€‚è¿™æ˜¯ä¸€ä¸ªæ”¯æŒ Markdown å†™ä½œå’Œ AI SEO ä¼˜åŒ–çš„ç°ä»£åšå®¢å¹³å°ã€‚
    </p>
  </div>

  {articles.length > 0 ? (
    <div class="space-y-6">
      {articles.map((article) => (
        <ArticleCard
          title={article.data.title}
          description={article.data.description}
          publishDate={article.data.publishDate}
          slug={article.id}
        />
      ))}
    </div>
  ) : (
    <div class="text-center py-16">
      <div class="text-6xl mb-4">ğŸ“</div>
      <h2 class="text-xl font-medium text-notion-text mb-2">è¿˜æ²¡æœ‰æ–‡ç« </h2>
      <p class="text-notion-muted mb-6">ç‚¹å‡»å³ä¸Šè§’ã€Œå‘å¸ƒæ–‡ç« ã€å¼€å§‹æ‚¨çš„å†™ä½œä¹‹æ—…</p>
      <a
        href="/wikimuseum/publish/"
        class="inline-flex items-center px-6 py-3 bg-notion-blue text-white rounded-lg font-medium hover:bg-notion-blue/90 transition-colors"
      >
        å‘å¸ƒç¬¬ä¸€ç¯‡æ–‡ç« 
      </a>
    </div>
  )}
</BaseLayout>
