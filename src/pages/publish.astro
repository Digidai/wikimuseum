---
import BaseLayout from '../layouts/BaseLayout.astro';

const GITHUB_OWNER = 'Digidai';
const GITHUB_REPO = 'wikimuseum';
const GIST_URL = 'https://gist.github.com/';
const NEW_ARTICLE_URL = `https://github.com/${GITHUB_OWNER}/${GITHUB_REPO}/issues/new?template=new-article.yml`;
const UPDATE_ARTICLE_URL = `https://github.com/${GITHUB_OWNER}/${GITHUB_REPO}/issues/new?template=update-article.yml`;
const DELETE_ARTICLE_URL = `https://github.com/${GITHUB_OWNER}/${GITHUB_REPO}/issues/new?template=delete-article.yml`;
---

<BaseLayout title="发布文章" description="发布新的 Markdown 文章">
  <div class="max-w-2xl">
    <h1 class="text-2xl font-semibold text-notion-text mb-8">发布文章</h1>

    <section class="mb-10">
      <h2 class="text-sm font-medium text-notion-muted uppercase tracking-wide mb-4">发布步骤</h2>
      <ol class="space-y-4 text-notion-text">
        <li>
          <span class="font-medium">1. 创建 Gist</span>
          <p class="text-sm text-notion-muted mt-1">文件名填 <code class="bg-notion-hover px-1.5 py-0.5 rounded text-xs">article.md</code>，粘贴文章内容</p>
          <a href={GIST_URL} target="_blank" rel="noopener noreferrer" class="inline-block mt-2 text-sm text-notion-blue hover:underline">
            打开 Gist →
          </a>
        </li>
        <li>
          <span class="font-medium">2. 提交发布请求</span>
          <p class="text-sm text-notion-muted mt-1">填入 Gist 链接，系统将自动发布</p>
          <a href={NEW_ARTICLE_URL} target="_blank" rel="noopener noreferrer" class="inline-block mt-2 text-sm text-notion-blue hover:underline">
            提交请求 →
          </a>
        </li>
      </ol>
    </section>

    <section class="border-t border-notion-border pt-8">
      <h2 class="text-sm font-medium text-notion-muted uppercase tracking-wide mb-4">管理文章</h2>
      <div class="space-y-3">
        <a href={UPDATE_ARTICLE_URL} target="_blank" rel="noopener noreferrer" class="block text-notion-text hover:text-notion-blue transition-colors">
          更新文章 <span class="text-notion-muted">→</span>
        </a>
        <a href={DELETE_ARTICLE_URL} target="_blank" rel="noopener noreferrer" class="block text-notion-text hover:text-notion-blue transition-colors">
          删除文章 <span class="text-notion-muted">→</span>
        </a>
      </div>
    </section>
  </div>
</BaseLayout>
